version: 0.1
component: build
timeoutInSeconds: 1000
shell: bash

steps:
  - type: Command
    name: "compress the repo"
    command: |
      tar -cvzf repo.tgz ./ >> /dev/null
      onFailure:
      - type: Command
        command: |
          echo "FAILED to compress the GitHub repo"
          ls | grep *.tgz
        timeoutInSeconds: 400
outputArtifacts:
  - name: artifact
    type: BINARY
    location: ${OCI_PRIMARY_SOURCE_DIR}/repo.tgz
